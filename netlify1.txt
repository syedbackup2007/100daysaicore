import OpenAI from "openai";

export async function handler(event){

  const openai=new OpenAI({
    apiKey:process.env.OPENAI_API_KEY
  });

  const body=JSON.parse(event.body);

  const response=await openai.chat.completions.create({
    model:"gpt-4o-mini",
    messages:[
      {role:"system",
       content:"You are an elite 100 day challenge AI coach. Increase difficulty gradually."},
      {role:"user",content:body.prompt}
    ]
  });

  return{
    statusCode:200,
    body:JSON.stringify({
      reply:response.choices[0].message.content
    })
  };
}